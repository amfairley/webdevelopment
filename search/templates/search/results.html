{% extends 'base.html' %}
{% load static %}

{% block extra_title %}: Search results for "{{ query }}"{% endblock %}

{% block extra_css %}
    <!--No full stack file-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/search.css' %}">
{% endblock extra_css %}

{% block content %}
    <h2>Search results for "{{ query }}"</h2>
    <section class="search-result-block">
    {% if results %}
        {% for hit in results %}
            <a class="result-link" href="{{ hit.urlHeroku }}">
                <div class="result-container row">
                    <!--Page title-->
                    <div class="col-6">
                        <h3 class="result-title">{{ hit.prettyTitle }}</h3>
                    </div>
                    <div class="col-6 result-section">
                        <p>{{ hit.section }}</p>
                    </div>
                    <!--Page Section-->

                    <!--Page URL-->
                    <p class="result-url">{{ hit.urlLocal }}</p>
                    <!--Section Type-->
                    <p class="result-type"> Section type: {{ hit.sectionType }}</p>
                    <!--Page Content - 30 words-->
                    {% if hit.content %}
                        <p class="result-content">Content: {{ hit.content|truncatewords:30 }}</p>
                    {% endif %}
                </div>
            </a>
        {% endfor %}
    {% else %}
        <p>No results found.</p>
    {% endif %}
    </section>
{% endblock %}